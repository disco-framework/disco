
FORM = ui_squaresview.py
MAIN = gui.py

.PHONY: all compile run clean test

all: compile

compile: $(FORM)

ui_%.py: %.ui
	pyuic5 $< -o $@

run: compile
	@DISPLAY=:0 ./$(MAIN) 2>/dev/null

clean:
	rm -rf __pycache__/
	rm -f $(FORM) *.pyc

test: compile
	@(echo '{"event":"all data",' \
	;echo '"running":false,' \
	;echo '"workers":[["pwb_50","zerhaskler","","","",0,0,0,"no",false],' \
	;           echo '["pwb_61","Joker","staff","","",0,0,0,"no",false],' \
	;           echo '["pwb_51","40squares","alumni","","",0,0,0,"no",false],' \
	;           echo '["pwb_22","PWSS12","","","",0,0,0,"no",false],' \
	;           echo '["pwb_12","Puzzeln!!!","","","",0,0,0,"no",false],' \
	;           echo '["pwb_53","Anealator featuring Bob","alumni","","",0,0,0,"no",false],' \
	;           echo '["pwb_06","Zeile49/117","","","",0,0,0,"no",false],' \
	;           echo '["pwb_47","","","","",0,0,0,{"idx":0},false],' \
	;           echo '["pwb_58","","alumni","","",0,0,0,{"idx":1},false],' \
	;           echo '["pwb_48","FlashGordon","","","",0,0,0,"no",false],' \
	;           echo '["pwb_59","Under Cover Agent 42","staff","","",0,0,0,"no",false]],' \
	;echo '"problems":[["Example problem","",1000,""],["Primzahlen bis 19","",30000,""],["Alle bis 42","",3000,""],["Timos Test","",3000,""],["1..1000 und 1001","",3000,""]],' \
	;echo '"problem idx":0,' \
	;echo '"round":0,' \
	;echo '"worker input":["[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,211,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49]","50"],' \
	;echo '"state":"[1,1,2,3,5,8,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48]"}' \
	\
	;sleep 1 ;echo '{"event":"worker input changed","worker input":["[116,115,113,108,87,85,79,77,62,45,44,43,39,38,37,34,25,23,13,12,10,7,4,3,1]","308"]}' \
	;sleep 1 ;echo '{"event":"worker updated","worker data":["pwb_53","","",0,0,0,"no",true]}' \
	;sleep 1 ;echo '{"event":"worker updated","worker data":["pwb_06","","",0,0,0,"no",true]}' \
	;sleep 1 ;echo '{"event":"round started","round number":1}' \
	;sleep 1 ;echo '{"event":"worker updated","worker data":["pwb_06","[(0,0,116)]","1 Quadrate, 14.1845% bedeckt",13456,0,0,"no",true]}' \
	;sleep 1 ;echo '{"event":"worker updated","worker data":["pwb_06","[(0,0,116),(116,0,115)]","2 Quadrate, 28.1255% bedeckt",26681,0,0,"no",true]}' \
	;sleep 1 ;echo '{"event":"worker updated","worker data":["pwb_06","[(0,0,116),(116,0,115),(231,0,77)]","3 Quadrate, 34.3755% bedeckt",32610,0,0,"no",true]}' \
	;sleep 1 ;echo '{"event":"worker updated","worker data":["pwb_06","[(0,0,116),(116,0,115),(231,0,77),(231,77,62)]","4 Quadrate, 38.4276% bedeckt",36454,0,0,"no",true]}' \
	;sleep 1 ;echo '{"event":"worker updated","worker data":["pwb_06","[(0,0,113),(113,0,108),(221,0,87),(221,87,77)]","4 Quadrate, 39.9846% bedeckt",37931,0,0,"no",true]}' \
	;sleep 1 ;echo '{"event":"worker updated","worker data":["pwb_06","[(0,0,116),(116,0,115),(231,0,77),(231,77,62),(293,77,13),(306,77,1),(293,90,12),(305,90,3),(293,102,10),(303,102,4),(293,112,7),(116,115,113)]","12 Quadrate, 52.4024% bedeckt",49711,0,0,"no",true]}' \
	;sleep 1 ;echo '{"event":"worker updated","worker data":["pwb_06","[(0,0,116),(116,0,115),(231,0,77),(231,77,62),(293,77,13),(306,77,1),(293,90,12),(305,90,3),(293,102,10),(303,102,4),(293,112,7),(116,115,113),(0,116,108)]","13 Quadrate, 64.6979% bedeckt",61375,0,0,"no",true]}' \
	;sleep 1 ;echo '{"event":"worker updated","worker data":["pwb_06","[(0,0,116),(116,0,115),(231,0,77),(231,77,62),(293,77,13),(306,77,1),(293,90,12),(305,90,3),(293,102,10),(303,102,4),(293,112,7),(116,115,113),(0,116,108),(0,224,79)]","14 Quadrate, 71.2768% bedeckt",67616,0,0,"no",true]}' \
	;sleep 1 ;echo '{"event":"worker updated","worker data":["pwb_06","[(0,0,116),(116,0,115),(231,0,77),(231,77,62),(293,77,13),(306,77,1),(293,90,12),(305,90,3),(293,102,10),(303,102,4),(293,112,7),(116,115,113),(0,116,108),(0,224,79),(79,224,37)]","15 Quadrate, 72.7199% bedeckt",68985,0,0,"no",true]}' \
	;sleep 1 ;echo '{"event":"worker updated","worker data":["pwb_06","[(0,0,116),(116,0,115),(231,0,77),(231,77,62),(293,77,13),(306,77,1),(293,90,12),(305,90,3),(293,102,10),(303,102,4),(293,112,7),(116,115,113),(0,116,108),(0,224,79),(79,224,37),(229,224,34)]","16 Quadrate, 73.9385% bedeckt",70141,0,0,"no",true]}' \
	;sleep 1 ;echo '{"event":"worker updated","worker data":["pwb_06","[(0,0,116),(116,0,115),(231,0,77),(231,77,62),(293,77,13),(306,77,1),(293,90,12),(305,90,3),(293,102,10),(303,102,4),(293,112,7),(116,115,113),(0,116,108),(0,224,79),(79,224,37),(229,224,34),(263,224,25)]","17 Quadrate, 74.5973% bedeckt",70766,0,0,"no",true]}' \
	;sleep 1 ;echo '{"event":"worker updated","worker data":["pwb_06","[(0,0,116),(116,0,115),(231,0,77),(231,77,62),(293,77,13),(306,77,1),(293,90,12),(305,90,3),(293,102,10),(303,102,4),(293,112,7),(116,115,113),(0,116,108),(0,224,79),(79,224,37),(229,224,34),(263,224,25),(116,228,45)]","18 Quadrate, 76.732% bedeckt",72791,0,0,"no",true]}' \
	;sleep 1 ;echo '{"event":"worker updated","worker data":["pwb_06","[(0,0,116),(116,0,115),(231,0,77),(231,77,62),(293,77,13),(306,77,1),(293,90,12),(305,90,3),(293,102,10),(303,102,4),(293,112,7),(116,115,113),(0,116,108),(0,224,79),(79,224,37),(229,224,34),(263,224,25),(116,228,45),(161,228,44)]","19 Quadrate, 78.7728% bedeckt",74727,0,0,"no",true]}' \
	;sleep 1 ;echo '{"event":"worker updated","worker data":["pwb_53","","",0,0,0,"no",false]}' \
	;sleep 1 ;echo '{"event":"worker updated","worker data":["pwb_06","[(0,0,116),(116,0,115),(231,0,77),(231,77,62),(293,77,13),(306,77,1),(293,90,12),(305,90,3),(293,102,10),(303,102,4),(293,112,7),(116,115,113),(0,116,108),(0,224,79),(79,224,37),(229,224,34),(263,224,25),(116,228,45),(161,228,44),(205,228,23)]","20 Quadrate, 79.3304% bedeckt",75256,0,0,"no",true]}' \
	;sleep 1 ;echo '{"event":"worker updated","worker data":["pwb_06","[(0,0,116),(116,0,115),(231,0,77),(231,77,62),(293,77,13),(306,77,1),(293,90,12),(305,90,3),(293,102,10),(303,102,4),(293,112,7),(116,115,113),(0,116,108),(0,224,79),(79,224,37),(229,224,34),(263,224,25),(116,228,45),(161,228,44),(205,228,23),(205,258,43)]","21 Quadrate, 81.2795% bedeckt",77105,0,0,"no",true]}' \
	;sleep 1 ;echo '{"event":"worker updated","worker data":["pwb_06","[(0,0,116),(116,0,115),(231,0,77),(231,77,62),(293,77,13),(306,77,1),(293,90,12),(305,90,3),(293,102,10),(303,102,4),(293,112,7),(116,115,113),(0,116,108),(0,224,79),(79,224,37),(229,224,34),(263,224,25),(116,228,45),(161,228,44),(205,228,23),(205,258,43),(248,258,39)]","22 Quadrate, 82.8829% bedeckt",78626,0,0,"no",true]}' \
	;sleep 1 ;echo '{"event":"worker updated","worker data":["pwb_06","[(0,0,116),(116,0,115),(231,0,77),(231,77,62),(293,77,13),(306,77,1),(293,90,12),(305,90,3),(293,102,10),(303,102,4),(293,112,7),(116,115,113),(0,116,87),(87,116,25),(87,141,23),(0,203,85),(85,228,79),(164,228,45),(209,228,44),(253,228,43),(253,271,37)]","21 Quadrate, 83.3604% bedeckt",79079,0,0,"no",true]}' \
	;sleep 1 ;echo '{"event":"worker updated","worker data":["pwb_06","[(0,0,116),(116,0,115),(231,0,77),(231,77,62),(293,77,13),(306,77,1),(293,90,12),(305,90,3),(293,102,10),(303,102,4),(293,112,7),(116,115,113),(0,116,87),(87,116,25),(87,141,23),(0,203,85),(85,228,79),(164,228,45),(209,228,44),(253,228,43),(253,271,37),(209,272,34)]","22 Quadrate, 84.579% bedeckt",80235,0,0,"no",true]}' \
	;sleep 1 ;echo '{"event":"worker updated","worker data":["pwb_06","[(0,0,116),(116,0,115),(231,0,77),(231,77,62),(293,77,13),(306,77,1),(293,90,12),(305,90,3),(293,102,10),(303,102,4),(293,112,7),(116,115,108),(0,116,87),(87,116,25),(87,141,23),(0,203,85),(85,223,79),(164,223,45),(209,223,44),(253,223,43),(253,266,39),(209,267,38),(164,268,37)]","23 Quadrate, 85.3211% bedeckt",80939,0,0,"no",true]}' \
	;sleep 1 ;echo '{"event":"round ended","round number":1}' \
	\
	;sleep 1 ;echo '{"event":"worker input changed","worker input":["[1,1,2,3,5,8]","42"]}' \
	) | ./$(MAIN)
